<%- include('_header.ejs') -%>
<!-- DataTales Example -->
<div class="card shadow mb-4">
  <div class="card-header py-3">
      <h1 class="m-0 font-weight-bold text-primary">Main(MongoDB)</h1>
  </div>
  <div class="card-body">
      <div class="table-responsive">
        <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
          <thead>
            <tr>
              <th scope="col">No</th>
              <th scope="col">Title</th>
              <th scope="col">Description</th>
              <th scope="col">Author</th>
              <th scope="col">Email</th>
              <th scope="col">Date</th>
              <th scope="col">Update</th>
              <th scope="col">Delete</th>
            </tr>
          </thead>
          <tbody>
            <% for (var i = 0; i < data.length; i++) { %>
            <tr>
                  <th scope="row"><%= i + 1%></th>
                  <td><%= data[i].title%></td>
                  <td><%= data[i].description%></td>
                  <td><%= data[i].author%></td>
                  <td><%= data[i].email%></td>
                  <td><%= moment(data[i].createAt).format('LLLL')%></td>
                  <td>
                    <a href="/update/<%= data[i]._id%>"><button type="submit" class="btn btn-info">Update</button></a>
                  </td>
                  <td>
                    <form action="/delete/<%= data[i]._id%>" method="POST" onsubmit="return confirm('정말 삭제하시겠습니까?')">
                      <button type="submit" class="btn btn-danger" >Delete</button>
                    </form>
                  </td>
            </tr>
            <% } %>
          </tbody>
          <tr></tr>
      </table>      
      <div class= "mx-auto text-center">
        <a href="/create"><button type="button" class="btn btn-primary">Create</button></a>
      </div>
    </div>
  </div>
<%- include('_footer.ejs') -%>